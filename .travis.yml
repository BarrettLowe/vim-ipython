language: vim

before_script: |
  sudo rm -rf /dev/shm && sudo ln -s /run/shm /dev/shm
  sudo add-apt-repository -y ppa:nmi/vim-snapshots
  sudo apt-get update
  sudo apt-get install vim ipython libzmq-dev
  sudo easy_install -q pyzmq
  git clone https://github.com/junegunn/vader.vim.git

script: |
  vim -Nu <(cat << VIMRC
  filetype off
  set rtp+=vader.vim
  set rtp+=.
  filetype plugin indent on
  VIMRC) -c 'Vader! test/*' > /dev/null
